<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <title>Mensagem</title>
    <link rel="stylesheet" href="main.css" />
    <link rel="stylesheet" href="live-chat.css" />
  </head>
  <body>
    <div id="container">
      <h1 id="wait">Aguarde...</h1>
        <h1 id="button" hidden>Clique no botão abaixo para conversar com um voluntário agora!</h1>
        <h1 id="isTalking" hidden>Use a janela ao lado para conversar</h1>
      <button id="chat" onclick="chat()">Conversar agora</button>
    </div>
    <script>
      (function (o, c, t, a, d, e, s, k) {
        o.octadesk = o.octadesk || {};
        s = c.getElementsByTagName("body")[0];
        k = c.createElement("script");
        k.async = 1;
        k.src = t + "/" + a + "?showButton=" + d + "&openOnMessage=" + e;
        s.appendChild(k);
      })(
        window,
        document,
        "https://chat.octadesk.services/api/widget",
        "naacao",
        true,
        true
      );
    </script>
    <script>
      function fakeEmail() {
        var result = "";
        var characters = "abcdefghijklmnopqrstuvwxyz0123456789";
        var charactersLength = characters.length;
        for (var i = 0; i < 8; i++) {
          result += characters.charAt(
            Math.floor(Math.random() * charactersLength)
          );
        }
        return result + "@example.com";
      }

      function chat() {
        octadesk.chat.showApp();
        octadesk.chat.show();
        octadesk.chat.login({
          name: "Anon",
          email: fakeEmail(),
        });
        document.getElementById("chat").style.display = "none"
        document.getElementById("button").style.display = "none"
        document.getElementById("isTalking").style.display = "block"
      }

      window.addEventListener("load", () => {
        document.getElementById("wait").style.display = "none"
        document.getElementById("chat").style.display = "block"
        document.getElementById("button").style.display = "block"
      })
    </script>
  </body>
</html>
